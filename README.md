# EGBI-122-Computer-programming
This project is a part of the course EGBI122 in the faculty of engineering, Mahidol university.

Project members : Korrawan Niyomvech 6813351 and Warachaya Chiampairoh 6813394

## Code Explanation: Health & Fitness Tracker App
This application is a comprehensive health tracker implemented using the Gradio library in Python, allowing it to be hosted as a simple web application.

### 1. Functions used in the code
The application logic is separated into specific functions responsible for calculations, data manipulation, and visualization:

- _calculate_bmi_ : BMI Calculator(Tab 1)
  Takes height, weight, and units, calculates the Body Mass Index (BMI), determines the BMI category (Underweight, Normal, Overweight, Obese), and returns the results along with the updated _bmi_history_df_.

- _update_bmi_chart_ : BMI Calculator(Tab 1)
  Generates a time-series line chart of the user's recorded BMI values using **Plotly Express** for visualization.

- _calculate_dmr_ : Metabolic Rate(Tab 2)
  Calculates the Basal Metabolic Rate(BMR) and Total Daily Energy Expenditure(TDEE) using the Harris-Benedict equation, and provides calorie goals for weight maintenance, loss, and gain.

- _add_food_entry_ : Food Tracker(Tab 3)
  Logs a food item (either from the dropdown or manual input) and its calories for the current date. It updates the central _food_log_df_ and returns the data needed to display the day's log.

- _update_tracker_summary_ : Food Tracker(Tab 3)
  Calculates the total calories consumed for the current day, compares it to the calculated TDEE, and generates **a weekly bar chart** of calorie intake over the last 7 days.

### 2. UI and Format
The application uses _**Gradio**_.

- _gr.Blocks_ : Sets up the main container with a soft, clean theme.

- _gr.Tabs()_ : Organizes the application into three distinct sections, making navigation intuitive.

- _gr.Row()_ and _gr.Column()_ : These structure the content within each tab, ensuring a clean, responsive layout where inputs are often grouped on the left and results/outputs are on the right.

- _gr.State()_ : This is the most crucial UI component for persistence. It holds the two pandas DataFrames(_bmi_history_df_ and _food_log_df_) and the tdee_state variable, allowing data to be shared and maintained across different functions and tabs without being reset during execution.

- _gr.Plot()_: Used to display the interactive charts generated by Plotly Express (BMI History and Weekly Calories).

- _gr.Dataframe()_: Used to display the interactive table of today's logged food items.

### 3. Tab explain
#### Tab 1: üí™ BMI Calculator
  In this tab, Clicking the _bmi_button_ will call the _calculate_bmi()_ function, which is BMI = Weight(kg) / Height**2(m). It uses the height and weight values entered by  the user in the _gr.Number fields_. The code then proceeds with the following steps:

- Unit Conversion : If the user selects Imperial (in, lbs) units, the function will convert the height and weight values to the metric system (meters, kilograms) before performing the calculation, as required by the standard BMI formula.

- In the result, the code then compares the calculated BMI value against standard criteria to determine the user's category, which are Under weight/Normal weight/ Overweight/ Obese, and assigns a specific color.

- History Logging : The calculated BMI value for the day is recorded in the _bmi_history_df_ table. The code will update the latest value if a new calculation is made on the same day.

- Graph : Once the calculation and logging are complete, the _update_bmi_chart()_ function is called to create a graph that displays the BMI trend over time.


#### Tab 2: üî• Daily Metabolic Rate
  This tab calculates the user's estimated daily calorie expenditure.

- It automatically pulls the most recent height/weight from the inputs in Tab 1.

- It requires age, gender, and activity level to calculate the BMR (calories needed at rest) and the TDEE (Total Daily Energy Expenditure, or calories needed to maintain current weight).

- The TDEE value is saved to the _tdee_state_, making it immediately available for comparison in the Food Tracker tab.

#### Tab 3: üçè Food Calorie Tracker
  In this tab, clicking the _add_food_button_ will call the _add_food_entry()_ function. It uses data from either the dropdown menu or the manual input fields. The code then proceeds as follows:

- Data Source Selection : The function first checks whether the user selected a common food from the **Dropdown** or manually entered a value into the **Manual Food** and **Entry Calories**  fields.
- Item logging : The food and calorie data are then saved into the _food_log_state table_, which serves as a history of the day's meals.
- Instant Screen Update : As soon as an item is successfully added, the _update_tracker_summary()_ function is called to:
    - Calculate today's total calories from the _food_log_state_ data.
    - Compare the total to the TDEE goal from Tab 2, showing the user how many calories they have left or if they've gone over.
    - Generate a graph : A bar chart is created to display the total calories consumed over the last 7 days, complete with a dotted line representing the TDEE goal. This gives the user a clear overview of their eating habits and trends.


  After successfully adding a food item, the function automatically clears the input fields. This allows the user to quickly and conveniently enter the next item.

_Additional Advice_ : Because this code saves and updates data on a daily basis, if you want to add new items to the food log for the current day, you can press **Add Food Item** multiple times. Each time you do, the new food will be added, and the day's calorie total will be automatically recalculated.


